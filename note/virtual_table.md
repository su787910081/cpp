# 虚函数表

- 虚函数表是 c++ 为了实现多态而引入的一个技术
    - 虚函数表是一个保存指针的链表，它里面的每一个元素所保存的都是一个虚函数的地址
    - 而每一个类实例都会有一个指向虚函数的指针
- c++ 是在什么时候生成的这个虚函数表的呢
    - 在类实例化的时候，会首先调用这个类的构造函数，而构造函数会最优先调用基类的构造函数。
    - 在基类构造函数调用的时候会先为其生成一个虚函数表的指针，然后在虚函数表中将每一个虚函数的地址存放到这个虚函数表中。
    - 当基类构造函数调用完成之后，会调用派生类的构造函数，这时会查询这个派生类中的虚函数，如果该派生类重写了基类的虚函数，那么虚函数表中原来存放该虚函数的地址将会被派生类中的此虚函数的地址所覆盖。这样就开成了多态。
- 如果一个类继承了多个基类，那么它就会有多个虚函数表指针，分别保存各自的虚函数表。

